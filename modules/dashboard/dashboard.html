<div class="dashboard-module">
    <!-- Header Section -->
    <div class="container">
        <div class="dashboard-header">
            <h2 class="module-title">üè† Home - ‡≤®‡≤æ‡≤≥‡≥Ü ‡≤Ö‡≤°‡≥Å‡≤ó‡≥Ü ‡≤è‡≤®‡≥Å?</h2>
            <p class="module-description">Your Indian cuisine catalog at a glance</p>
        </div>

        <!-- Search and Add Section -->
        <div class="search-add-section">
            <div class="search-add-grid grid grid-2">
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="globalSearch" class="form-input" placeholder="üîç Search all dishes...">
                    </div>
                </div>
                <div class="add-section">
                    <button id="addNewDishBtn" class="btn btn-primary btn-large">
                        ‚ûï Add New Dish
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Stats Cards -->
        <div class="stats-grid grid grid-4">
            <div class="stat-card card clickable" id="breakfastCard" data-navigate="breakfast-catalog">
                <div class="stat-icon">üåÖ</div>
                <div class="stat-content">
                    <h3 id="breakfastCount" class="stat-number">0</h3>
                    <p class="stat-label">Breakfast Items</p>
                    <p class="stat-description">Traditional Indian breakfast dishes</p>
                    <div class="card-action">Click to explore ‚Üí</div>
                </div>
            </div>
            
            <div class="stat-card card clickable" id="mainsCard" data-navigate="mains-catalog">
                <div class="stat-icon">üçΩÔ∏è</div>
                <div class="stat-content">
                    <h3 id="mainsCount" class="stat-number">0</h3>
                    <p class="stat-label">Main Dishes</p>
                    <p class="stat-description">Indian main course specialties</p>
                    <div class="card-action">Click to explore ‚Üí</div>
                </div>
            </div>

            <div class="stat-card card clickable" id="sideDishesCard" data-navigate="side-dishes-catalog">
                <div class="stat-icon">ü•ò</div>
                <div class="stat-content">
                    <h3 id="sideDishesCount" class="stat-number">0</h3>
                    <p class="stat-label">Side Dishes</p>
                    <p class="stat-description">Various Indian side dishes</p>
                    <div class="card-action">Click to explore ‚Üí</div>
                </div>
            </div>

            <div class="stat-card card clickable" id="accompanimentsCard" data-navigate="accompaniments-catalog">
                <div class="stat-icon">ü•ó</div>
                <div class="stat-content">
                    <h3 id="accompanimentsCount" class="stat-number">0</h3>
                    <p class="stat-label">Accompaniments</p>
                    <p class="stat-description">Salads, raitas, chutneys & more</p>
                    <div class="card-action">Click to explore ‚Üí</div>
                </div>
            </div>
        </div>



        <!-- Recent Activity -->
        <div class="activity-section">
            <h3 class="section-title">üìà Quick Analytics</h3>
            <div class="analytics-grid grid grid-3">
                <div class="analytics-card card">
                    <div class="analytics-icon">üè∑Ô∏è</div>
                    <div class="analytics-content">
                        <h4 id="totalCount" class="analytics-number">0</h4>
                        <p class="analytics-label">Total Dishes</p>
                    </div>
                </div>
                
                <div class="analytics-card card">
                    <div class="analytics-icon">ü•ó</div>
                    <div class="analytics-content">
                        <h4 id="vegCount" class="analytics-number">0</h4>
                        <p class="analytics-label">Vegetarian Options</p>
                    </div>
                </div>
                
                <div class="analytics-card card">
                    <div class="analytics-icon">üî•</div>
                    <div class="analytics-content">
                        <h4 id="avgCalories" class="analytics-number">0</h4>
                        <p class="analytics-label">Avg Calories</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Meal History Analytics (3-Month Rolling Window) -->
        <div class="history-analytics-section">
            <h3 class="section-title">üìä Meal History Insights (Last 3 Months)</h3>
            
            <!-- Favorite Dishes -->
            <div class="favorites-section">
                <h4 class="subsection-title">‚≠ê Your Favorite Dishes</h4>
                <div class="favorites-grid grid grid-4">
                    <div class="favorite-card card">
                        <div class="favorite-icon">üåÖ</div>
                        <div class="favorite-content">
                            <h5 id="favBreakfast" class="favorite-dish">No data</h5>
                            <p class="favorite-label">Favorite Breakfast</p>
                        </div>
                    </div>
                    <div class="favorite-card card">
                        <div class="favorite-icon">üçõ</div>
                        <div class="favorite-content">
                            <h5 id="favMains" class="favorite-dish">No data</h5>
                            <p class="favorite-label">Favorite Main Dish</p>
                        </div>
                    </div>
                    <div class="favorite-card card">
                        <div class="favorite-icon">ü•ó</div>
                        <div class="favorite-content">
                            <h5 id="favSides" class="favorite-dish">No data</h5>
                            <p class="favorite-label">Favorite Side Dish</p>
                        </div>
                    </div>
                    <div class="favorite-card card">
                        <div class="favorite-icon">ü´ì</div>
                        <div class="favorite-content">
                            <h5 id="favAccompaniments" class="favorite-dish">No data</h5>
                            <p class="favorite-label">Favorite Accompaniment</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Nutrition Tracking -->
            <div class="nutrition-tracking-section">
                <h4 class="subsection-title">ü•ó Nutrition Tracking</h4>
                <div class="nutrition-summary-grid grid grid-4">
                    <div class="nutrition-summary-card card">
                        <div class="nutrition-icon">üî•</div>
                        <div class="nutrition-content">
                            <h5 id="avgDailyCalories" class="nutrition-value">0</h5>
                            <p class="nutrition-label">Avg Daily Calories</p>
                        </div>
                    </div>
                    <div class="nutrition-summary-card card">
                        <div class="nutrition-icon">üí™</div>
                        <div class="nutrition-content">
                            <h5 id="avgDailyProtein" class="nutrition-value">0g</h5>
                            <p class="nutrition-label">Avg Daily Protein</p>
                        </div>
                    </div>
                    <div class="nutrition-summary-card card">
                        <div class="nutrition-icon">üçΩÔ∏è</div>
                        <div class="nutrition-content">
                            <h5 id="totalMealsTracked" class="nutrition-value">0</h5>
                            <p class="nutrition-label">Total Meals Tracked</p>
                        </div>
                    </div>
                    <div class="nutrition-summary-card card">
                        <div class="nutrition-icon">üìÖ</div>
                        <div class="nutrition-content">
                            <h5 id="daysTracked" class="nutrition-value">0</h5>
                            <p class="nutrition-label">Days Tracked</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Weekly Nutrition Trends -->
            <div class="weekly-trends-section">
                <h4 class="subsection-title">üìà Weekly Nutrition Trends</h4>
                <div class="weekly-chart-card card">
                    <div class="chart-header">
                        <p>Average calories and protein per week (last 8 weeks)</p>
                    </div>
                    <div id="weeklyNutritionChart" class="weekly-chart">
                        <p>Loading nutrition trends...</p>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <span class="legend-color calories-color"></span>
                            <span>Calories</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color protein-color"></span>
                            <span>Protein (g)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Add New Dish Modal -->
    <div id="addDishModal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content add-dish-modal">
            <div class="modal-header">
                <h3 id="modalTitle">‚ú® Add New Dish</h3>
                <button class="modal-close" onclick="window.dashboard?.closeAddDishModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addDishForm" class="add-dish-form">
                    <!-- Step 1: Basic Info -->
                    <div class="form-step active" id="step1">
                        <div class="step-header">
                            <h4>üìù Basic Information</h4>
                            <p>Tell us about your dish</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="dishName" class="form-label">What's the name of your dish? *</label>
                            <input type="text" id="dishName" name="dishName" class="form-input" placeholder="e.g., Masala Dosa" required>
                        </div>

                        <div class="form-group">
                            <label for="dishDescription" class="form-label">Describe your dish</label>
                            <textarea id="dishDescription" name="dishDescription" class="form-textarea" rows="3" placeholder="Tell us what makes this dish special..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="showStep(2)">
                                Next: Category <span class="btn-arrow">‚Üí</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Category -->
                    <div class="form-step" id="step2">
                        <div class="step-header">
                            <h4>üçΩÔ∏è Category & Type</h4>
                            <p>Help us categorize your dish</p>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">What type of dish is this? *</label>
                            <div class="dish-type-grid">
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="breakfast">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">üåÖ</span>
                                        <span class="dish-type-label">Breakfast</span>
                                    </div>
                                </label>
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="mains-rice">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">üçö</span>
                                        <span class="dish-type-label">Mains - Rice Based</span>
                                    </div>
                                </label>
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="mains-wheat">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">ü´ì</span>
                                        <span class="dish-type-label">Mains - Wheat/Cereal</span>
                                    </div>
                                </label>
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="side-dish-gravy">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">ü•ò</span>
                                        <span class="dish-type-label">Side - Gravy</span>
                                    </div>
                                </label>
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="side-dish-sabji">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">ü•ó</span>
                                        <span class="dish-type-label">Side - Sabji</span>
                                    </div>
                                </label>
                                <label class="dish-type-card">
                                    <input type="radio" name="dishType" value="accompaniment">
                                    <div class="dish-type-content">
                                        <span class="dish-type-emoji">üçØ</span>
                                        <span class="dish-type-label">Accompaniment</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="cuisineType" class="form-label">Cuisine Style *</label>
                                <select id="cuisineType" name="cuisineType" class="form-select">
                                    <option value="">Choose cuisine</option>
                                    <option value="South Indian">ÔøΩÔ∏è South Indian</option>
                                    <option value="North Indian">ü´ì North Indian</option>
                                    <option value="Regional">üèîÔ∏è Regional</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Diet Type</label>
                                <div class="diet-toggle">
                                    <label class="toggle-option">
                                        <input type="checkbox" name="mealType" value="vegetarian">
                                        <span class="toggle-content">ü•¨ Vegetarian</span>
                                    </label>
                                    <label class="toggle-option">
                                        <input type="checkbox" name="mealType" value="non-vegetarian">
                                        <span class="toggle-content">üçñ Non-Vegetarian</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="showStep(1)">
                                <span class="btn-arrow">‚Üê</span> Back
                            </button>
                            <button type="button" class="btn btn-primary" onclick="showStep(3)">
                                Next: Nutrition <span class="btn-arrow">‚Üí</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Nutrition (Optional) -->
                    <div class="form-step" id="step3">
                        <div class="step-header">
                            <h4>üî• Nutrition Info</h4>
                            <p>Add nutritional details (optional but helpful!)</p>
                        </div>
                        
                        <div class="nutrition-auto-section">
                            <button type="button" id="fetchNutritionBtn" class="btn btn-outline">
                                üîç Auto-fetch nutrition data
                            </button>
                            <div id="nutritionStatus" class="nutrition-status"></div>
                        </div>
                        
                        <div class="nutrition-grid">
                            <div class="nutrition-item">
                                <label for="calories" class="nutrition-label">
                                    <span class="nutrition-icon">üî•</span>
                                    Calories
                                </label>
                                <input type="number" id="calories" name="calories" class="nutrition-input" min="0" placeholder="0">
                            </div>
                            <div class="nutrition-item">
                                <label for="protein" class="nutrition-label">
                                    <span class="nutrition-icon">üí™</span>
                                    Protein (g)
                                </label>
                                <input type="number" id="protein" name="protein" class="nutrition-input" min="0" step="0.1" placeholder="0.0">
                            </div>
                            <div class="nutrition-item">
                                <label for="carbs" class="nutrition-label">
                                    <span class="nutrition-icon">üåæ</span>
                                    Carbs (g)
                                </label>
                                <input type="number" id="carbs" name="carbs" class="nutrition-input" min="0" step="0.1" placeholder="0.0">
                            </div>
                            <div class="nutrition-item">
                                <label for="fat" class="nutrition-label">
                                    <span class="nutrition-icon">ü•ë</span>
                                    Fat (g)
                                </label>
                                <input type="number" id="fat" name="fat" class="nutrition-input" min="0" step="0.1" placeholder="0.0">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="showStep(2)">
                                <span class="btn-arrow">‚Üê</span> Back
                            </button>
                            <button type="submit" class="btn btn-success">
                                ‚ú® Add Dish to Collection
                            </button>
                        </div>
                    </div>

                    <!-- Progress Indicator -->
                    <div class="step-progress">
                        <div class="progress-step active" data-step="1">
                            <span class="progress-number">1</span>
                            <span class="progress-label">Basic Info</span>
                        </div>
                        <div class="progress-step" data-step="2">
                            <span class="progress-number">2</span>
                            <span class="progress-label">Category</span>
                        </div>
                        <div class="progress-step" data-step="3">
                            <span class="progress-number">3</span>
                            <span class="progress-label">Nutrition</span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


